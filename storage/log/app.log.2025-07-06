[2025-07-06 21:55:21,003.003] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-06 21:55:21,003.003] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 21:55:21,004.004] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-06 21:55:21,004.004] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 21:55:21,005.005] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-06 21:55:21,005.005] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 21:55:21,005.005] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 21:55:21,009.009] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 21:55:21,009.009] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00016s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 21:55:21,012.012] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 21:55:21,012.012] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00022s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 21:55:21,015.015] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 21:55:21,015.015] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00019s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 21:55:21,019.019] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 21:55:21,020.020] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 21:55:21,023.023] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 21:55:21,023.023] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00014s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 21:55:21,026.026] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 21:55:21,026.026] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00010s] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 21:55:21,027.027] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 21:55:21,027.027] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00019s] {'pk_1': UUID('5afb5288-4532-4c3d-949a-e52f93681b09')}
[2025-07-06 21:55:21,029.029] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 21:55:21,030.030] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00015s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('5afb5288-4532-4c3d-949a-e52f93681b09'), 'batch': '20250706215521930592', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 81, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 21:55:21,031.031] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 21:55:21,037.037] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 21:55:21,037.037] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 21:55:21,037.037] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00011s] {'pk_1': UUID('d45d2c96-e8a3-4896-8902-810bac5da410')}
[2025-07-06 21:55:21,073.073] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 21:55:21,073.073] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 21:55:21] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-06 21:55:54,481.481] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 21:55:54,482.482] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 21:55:54,482.482] base.py -> _exec_single_context line:1901 [INFO]: [cached since 33.47s ago] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 21:55:54,488.488] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 21:55:54,488.488] base.py -> _exec_single_context line:1901 [INFO]: [cached since 33.48s ago] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 21:55:54,489.489] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 21:55:54,489.489] base.py -> _exec_single_context line:1901 [INFO]: [cached since 33.47s ago] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 21:55:54,490.490] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 21:55:54,492.492] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 21:55:54,492.492] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 21:55:54,492.492] base.py -> _exec_single_context line:1901 [INFO]: [cached since 33.47s ago] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 21:55:54,495.495] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 21:55:54,495.495] base.py -> _exec_single_context line:1901 [INFO]: [cached since 33.47s ago] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 21:55:54,496.496] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 21:55:54,496.496] base.py -> _exec_single_context line:1901 [INFO]: [cached since 33.47s ago] {'pk_1': UUID('0f1ae107-b8df-44aa-b2fc-33bf300c6bd8')}
[2025-07-06 21:55:54,500.500] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 21:55:54,500.500] base.py -> _exec_single_context line:1901 [INFO]: [cached since 33.47s ago] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('0f1ae107-b8df-44aa-b2fc-33bf300c6bd8'), 'batch': '20250706215554362699', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 82, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 21:55:54,501.501] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 21:55:54,502.502] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 21:55:54,502.502] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 21:55:54,502.502] base.py -> _exec_single_context line:1901 [INFO]: [cached since 33.46s ago] {'pk_1': UUID('2e1e01f9-1dc6-4e33-ac84-fca9ccecf143')}
[2025-07-06 21:55:54,533.533] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 21:55:54,533.533] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 21:55:54] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-06 21:56:23,675.675] _internal.py -> _log line:97 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2025-07-06 21:56:23,675.675] _internal.py -> _log line:97 [INFO]: [33mPress CTRL+C to quit[0m
[2025-07-06 21:56:23,676.676] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 21:56:25,529.529] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 21:56:25,541.541] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 21:56:35,757.757] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-06 21:56:35,758.758] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 21:56:35,759.759] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-06 21:56:35,759.759] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 21:56:35,760.760] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-06 21:56:35,760.760] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 21:56:35,768.768] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 21:56:35,771.771] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 21:56:35,771.771] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00024s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 21:56:35,775.775] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 21:56:35,775.775] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00020s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 21:56:35,780.780] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 21:56:35,780.780] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00024s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 21:56:35,786.786] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 21:56:35,787.787] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 21:56:35,791.791] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 21:56:35,791.791] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00021s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 21:56:35,795.795] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 21:56:35,795.795] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00019s] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 21:56:35,797.797] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 21:56:35,797.797] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00014s] {'pk_1': UUID('68d550ba-c578-47a8-85d6-2df9d5f5269c')}
[2025-07-06 21:56:35,799.799] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 21:56:35,799.799] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00021s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('68d550ba-c578-47a8-85d6-2df9d5f5269c'), 'batch': '20250706215635429426', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 83, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 21:56:35,802.802] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 21:56:35,809.809] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 21:56:35,810.810] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 21:56:35,810.810] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00013s] {'pk_1': UUID('14f37b49-0038-424a-950c-11b2de1821eb')}
[2025-07-06 21:56:35,895.895] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 21:56:35,895.895] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 21:56:35] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-06 21:59:11,876.876] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/core/file_extractor/file_extractor.py', reloading
[2025-07-06 21:59:12,315.315] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 21:59:14,329.329] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 21:59:14,347.347] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 21:59:33,478.478] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-06 21:59:33,479.479] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 21:59:33,481.481] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-06 21:59:33,481.481] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 21:59:33,485.485] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-06 21:59:33,486.486] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 21:59:33,486.486] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 21:59:33,493.493] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 21:59:33,493.493] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00046s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 21:59:33,496.496] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 21:59:33,496.496] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00018s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 21:59:33,499.499] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 21:59:33,499.499] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00021s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 21:59:33,505.505] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 21:59:33,506.506] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 21:59:33,508.508] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 21:59:33,508.508] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00013s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 21:59:33,514.514] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 21:59:33,514.514] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00018s] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 21:59:33,515.515] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 21:59:33,516.516] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00013s] {'pk_1': UUID('dc0b9475-e9e0-4413-8045-295a9c396178')}
[2025-07-06 21:59:33,518.518] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 21:59:33,518.518] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00014s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('dc0b9475-e9e0-4413-8045-295a9c396178'), 'batch': '20250706215933644758', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 84, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 21:59:33,519.519] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 21:59:33,527.527] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 21:59:33,528.528] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 21:59:33,528.528] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00011s] {'pk_1': UUID('41f05669-d969-4d13-b76e-7282daee9bb1')}
[2025-07-06 21:59:33,570.570] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 21:59:33,571.571] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 21:59:33] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-06 22:00:57,519.519] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/service/indexing_service.py', reloading
[2025-07-06 22:00:58,028.028] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 22:01:00,001.001] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 22:01:00,019.019] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 22:01:38,123.123] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/service/indexing_service.py', reloading
[2025-07-06 22:01:38,444.444] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 22:01:40,477.477] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 22:01:40,491.491] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 22:01:43,770.770] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-06 22:01:43,771.771] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:01:43,773.773] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-06 22:01:43,773.773] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:01:43,774.774] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-06 22:01:43,774.774] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:01:43,774.774] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:01:43,777.777] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 22:01:43,777.777] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00016s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 22:01:43,781.781] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 22:01:43,781.781] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00017s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 22:01:43,785.785] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 22:01:43,785.785] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00026s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 22:01:43,790.790] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:01:43,792.792] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:01:43,794.794] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 22:01:43,794.794] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00015s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 22:01:43,797.797] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 22:01:43,798.798] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00011s] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 22:01:43,799.799] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 22:01:43,799.799] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00011s] {'pk_1': UUID('51f3b802-b468-4291-ab5b-01e6018cd1f0')}
[2025-07-06 22:01:43,801.801] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 22:01:43,801.801] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00021s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('51f3b802-b468-4291-ab5b-01e6018cd1f0'), 'batch': '20250706220143285498', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 85, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 22:01:43,803.803] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:01:43,811.811] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:01:43,812.812] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 22:01:43,812.812] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00015s] {'pk_1': UUID('3fa0d17a-151a-4b96-be5d-b9937616b01a')}
[2025-07-06 22:01:43,847.847] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 22:01:43,848.848] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 22:01:43] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-06 22:02:29,124.124] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:02:29,125.125] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 22:02:29,125.125] base.py -> _exec_single_context line:1901 [INFO]: [cached since 45.35s ago] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 22:02:29,128.128] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 22:02:29,128.128] base.py -> _exec_single_context line:1901 [INFO]: [cached since 45.35s ago] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 22:02:29,130.130] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 22:02:29,130.130] base.py -> _exec_single_context line:1901 [INFO]: [cached since 45.34s ago] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 22:02:29,131.131] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:02:29,132.132] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:02:29,133.133] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 22:02:29,133.133] base.py -> _exec_single_context line:1901 [INFO]: [cached since 45.34s ago] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 22:02:29,135.135] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 22:02:29,135.135] base.py -> _exec_single_context line:1901 [INFO]: [cached since 45.34s ago] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 22:02:29,136.136] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 22:02:29,136.136] base.py -> _exec_single_context line:1901 [INFO]: [cached since 45.34s ago] {'pk_1': UUID('d7d61697-186d-4f68-a8b1-c82995967525')}
[2025-07-06 22:02:29,137.137] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 22:02:29,137.137] base.py -> _exec_single_context line:1901 [INFO]: [cached since 45.34s ago] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('d7d61697-186d-4f68-a8b1-c82995967525'), 'batch': '20250706220229331147', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 86, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 22:02:29,138.138] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:02:29,139.139] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:02:29,139.139] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 22:02:29,139.139] base.py -> _exec_single_context line:1901 [INFO]: [cached since 45.33s ago] {'pk_1': UUID('a0032c72-9781-429d-bd91-2f6453d9ca26')}
[2025-07-06 22:02:29,176.176] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 22:02:29,177.177] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 22:02:29] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-06 22:03:41,552.552] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/core/file_extractor/file_extractor.py', reloading
[2025-07-06 22:03:41,996.996] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 22:03:44,159.159] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 22:03:44,173.173] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 22:08:58,889.889] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-06 22:08:58,890.890] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:08:58,893.893] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-06 22:08:58,893.893] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:08:58,896.896] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-06 22:08:58,896.896] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:08:58,897.897] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:08:58,901.901] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 22:08:58,901.901] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00021s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 22:08:58,905.905] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 22:08:58,905.905] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00016s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 22:08:58,911.911] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 22:08:58,911.911] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00015s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 22:08:58,918.918] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:08:58,919.919] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:08:58,922.922] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 22:08:58,922.922] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00013s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 22:08:58,925.925] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 22:08:58,925.925] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00020s] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 22:08:58,927.927] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 22:08:58,927.927] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00012s] {'pk_1': UUID('3910f479-f4c2-4c9f-9570-69540732e006')}
[2025-07-06 22:08:58,929.929] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 22:08:58,929.929] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00016s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('3910f479-f4c2-4c9f-9570-69540732e006'), 'batch': '20250706220858845433', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 87, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 22:08:58,932.932] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:08:58,939.939] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:08:58,939.939] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 22:08:58,940.940] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00015s] {'pk_1': UUID('f26373bb-bdba-4718-a7c9-d206b78860fe')}
[2025-07-06 22:08:58,987.987] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 22:08:58,988.988] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 22:08:58] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-06 22:10:54,518.518] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/service/indexing_service.py', reloading
[2025-07-06 22:10:54,983.983] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 22:10:57,015.015] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 22:10:57,033.033] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 22:12:42,341.341] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/core/file_extractor/file_extractor.py', reloading
[2025-07-06 22:12:42,885.885] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 22:12:44,881.881] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 22:12:44,896.896] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 22:13:00,968.968] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-06 22:13:00,969.969] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:13:00,970.970] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-06 22:13:00,970.970] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:13:00,971.971] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-06 22:13:00,971.971] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:13:00,971.971] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:13:00,974.974] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 22:13:00,974.974] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00016s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 22:13:00,978.978] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 22:13:00,978.978] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00021s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 22:13:00,982.982] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 22:13:00,983.983] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00015s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 22:13:00,987.987] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:13:00,989.989] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:13:00,992.992] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 22:13:00,992.992] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00014s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 22:13:00,998.998] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 22:13:00,998.998] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00018s] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 22:13:00,999.999] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 22:13:00,999.999] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00011s] {'pk_1': UUID('923cc2e3-d004-42d7-ae2d-d1941a976b7d')}
[2025-07-06 22:13:01,001.001] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 22:13:01,001.001] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00014s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('923cc2e3-d004-42d7-ae2d-d1941a976b7d'), 'batch': '20250706221300219830', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 88, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 22:13:01,003.003] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:13:01,010.010] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:13:01,011.011] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 22:13:01,011.011] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00011s] {'pk_1': UUID('9829166a-bed1-4aaa-8ad3-b84ef86e7db7')}
[2025-07-06 22:13:01,060.060] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 22:13:01,062.062] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 22:13:01] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-06 22:14:26,068.068] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/core/file_extractor/file_extractor.py', reloading
[2025-07-06 22:14:26,387.387] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 22:14:28,072.072] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 22:14:28,084.084] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 22:14:51,967.967] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/core/file_extractor/file_extractor.py', reloading
[2025-07-06 22:14:52,243.243] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 22:14:53,630.630] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 22:14:53,640.640] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 22:15:08,928.928] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-06 22:15:08,928.928] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:15:08,929.929] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-06 22:15:08,930.930] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:15:08,931.931] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-06 22:15:08,931.931] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:15:08,932.932] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:15:08,933.933] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 22:15:08,934.934] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00014s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 22:15:08,937.937] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 22:15:08,937.937] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00019s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 22:15:08,940.940] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 22:15:08,940.940] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00017s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 22:15:08,946.946] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:15:08,947.947] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:15:08,949.949] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 22:15:08,949.949] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00013s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 22:15:08,955.955] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 22:15:08,955.955] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00016s] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 22:15:08,957.957] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 22:15:08,957.957] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00014s] {'pk_1': UUID('94e885df-9700-4edd-a202-74573901bfcf')}
[2025-07-06 22:15:08,959.959] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 22:15:08,959.959] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00015s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('94e885df-9700-4edd-a202-74573901bfcf'), 'batch': '20250706221508329604', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 89, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 22:15:08,961.961] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:15:08,969.969] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:15:08,970.970] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 22:15:08,970.970] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00011s] {'pk_1': UUID('84497ea5-5c2b-43f3-8003-8bb99e3651e0')}
[2025-07-06 22:15:09,003.003] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 22:15:09,004.004] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 22:15:09] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-06 22:15:31,554.554] _internal.py -> _log line:97 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2025-07-06 22:15:31,554.554] _internal.py -> _log line:97 [INFO]: [33mPress CTRL+C to quit[0m
[2025-07-06 22:15:31,555.555] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 22:15:33,039.039] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 22:15:33,049.049] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 22:15:47,407.407] _internal.py -> _log line:97 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2025-07-06 22:15:47,407.407] _internal.py -> _log line:97 [INFO]: [33mPress CTRL+C to quit[0m
[2025-07-06 22:15:47,408.408] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 22:15:48,869.869] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 22:15:48,878.878] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 22:16:20,401.401] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-06 22:16:20,401.401] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:16:20,402.402] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-06 22:16:20,402.402] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:16:20,403.403] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-06 22:16:20,403.403] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:16:20,403.403] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:16:20,405.405] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 22:16:20,405.405] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00016s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 22:16:20,408.408] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 22:16:20,408.408] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00023s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 22:16:20,411.411] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 22:16:20,411.411] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00019s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 22:16:20,415.415] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:16:20,416.416] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:16:20,419.419] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 22:16:20,419.419] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00022s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 22:16:20,422.422] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 22:16:20,422.422] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00012s] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 22:16:20,424.424] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 22:16:20,424.424] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00018s] {'pk_1': UUID('10ff6130-0d92-4c85-9cd7-0add63707e26')}
[2025-07-06 22:16:20,426.426] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 22:16:20,426.426] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00023s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('10ff6130-0d92-4c85-9cd7-0add63707e26'), 'batch': '20250706221620974649', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 90, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 22:16:20,427.427] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:16:20,432.432] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:16:20,433.433] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 22:16:20,433.433] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00012s] {'pk_1': UUID('52cf5ede-85e2-4920-807a-3dcd67963be5')}
[2025-07-06 22:16:20,463.463] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 22:16:20,463.463] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 22:16:20] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-06 22:16:47,441.441] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/core/file_extractor/file_extractor.py', reloading
[2025-07-06 22:16:47,669.669] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 22:16:49,379.379] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 22:16:49,391.391] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 22:17:35,927.927] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/core/file_extractor/file_extractor.py', reloading
[2025-07-06 22:17:36,167.167] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 22:17:37,809.809] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 22:17:37,820.820] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 22:18:16,832.832] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-06 22:18:16,832.832] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:18:16,833.833] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-06 22:18:16,833.833] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:18:16,834.834] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-06 22:18:16,834.834] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:18:16,835.835] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:18:16,836.836] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 22:18:16,837.837] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00021s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 22:18:16,840.840] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 22:18:16,840.840] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00019s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 22:18:16,843.843] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 22:18:16,843.843] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00017s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 22:18:16,847.847] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:18:16,848.848] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:18:16,850.850] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 22:18:16,850.850] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00014s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 22:18:16,853.853] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 22:18:16,853.853] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00015s] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 22:18:16,854.854] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 22:18:16,854.854] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00012s] {'pk_1': UUID('590f7ef1-d000-4a43-9694-4c8124fa8bf2')}
[2025-07-06 22:18:16,856.856] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 22:18:16,856.856] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00013s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('590f7ef1-d000-4a43-9694-4c8124fa8bf2'), 'batch': '20250706221816667630', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 91, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 22:18:16,858.858] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:18:16,865.865] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:18:16,866.866] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 22:18:16,866.866] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00018s] {'pk_1': UUID('df389dc6-2347-4eae-b923-f35b1cc35e40')}
[2025-07-06 22:18:16,901.901] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 22:18:16,901.901] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 22:18:16] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-06 22:18:55,482.482] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:18:55,482.482] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 22:18:55,483.483] base.py -> _exec_single_context line:1901 [INFO]: [cached since 38.65s ago] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 22:18:55,484.484] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 22:18:55,484.484] base.py -> _exec_single_context line:1901 [INFO]: [cached since 38.64s ago] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 22:18:55,485.485] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 22:18:55,513.513] base.py -> _exec_single_context line:1901 [INFO]: [cached since 38.67s ago] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 22:18:55,516.516] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:18:55,517.517] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:18:55,517.517] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 22:18:55,517.517] base.py -> _exec_single_context line:1901 [INFO]: [cached since 38.67s ago] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 22:18:55,518.518] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 22:18:55,518.518] base.py -> _exec_single_context line:1901 [INFO]: [cached since 38.67s ago] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 22:18:55,519.519] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 22:18:55,519.519] base.py -> _exec_single_context line:1901 [INFO]: [cached since 38.66s ago] {'pk_1': UUID('00254849-729b-43a0-8f1c-ac66c79eed91')}
[2025-07-06 22:18:55,524.524] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 22:18:55,524.524] base.py -> _exec_single_context line:1901 [INFO]: [cached since 38.67s ago] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('00254849-729b-43a0-8f1c-ac66c79eed91'), 'batch': '20250706221855161635', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 92, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 22:18:55,525.525] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:18:55,527.527] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:18:55,527.527] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 22:18:55,527.527] base.py -> _exec_single_context line:1901 [INFO]: [cached since 38.66s ago] {'pk_1': UUID('ed201f88-571d-4cef-aaa6-b6d327d6d4e5')}
[2025-07-06 22:18:55,537.537] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 22:18:55,537.537] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 22:18:55] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-06 22:19:16,607.607] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/service/indexing_service.py', reloading
[2025-07-06 22:19:16,907.907] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 22:19:18,541.541] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 22:19:18,552.552] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 22:21:35,745.745] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/core/file_extractor/file_extractor.py', reloading
[2025-07-06 22:21:36,062.062] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 22:21:37,808.808] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 22:21:37,819.819] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 22:21:46,393.393] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-06 22:21:46,393.393] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:21:46,395.395] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-06 22:21:46,395.395] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:21:46,396.396] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-06 22:21:46,396.396] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:21:46,396.396] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:21:46,399.399] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 22:21:46,399.399] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00036s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 22:21:46,406.406] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 22:21:46,406.406] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00018s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 22:21:46,409.409] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 22:21:46,410.410] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00023s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 22:21:46,414.414] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:21:46,415.415] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:21:46,418.418] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 22:21:46,418.418] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00037s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 22:21:46,425.425] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 22:21:46,426.426] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00034s] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 22:21:46,428.428] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 22:21:46,428.428] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00011s] {'pk_1': UUID('18249455-9e8b-4aab-b7c5-5e918c8da482')}
[2025-07-06 22:21:46,430.430] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 22:21:46,430.430] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00028s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('18249455-9e8b-4aab-b7c5-5e918c8da482'), 'batch': '20250706222146312235', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 93, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 22:21:46,432.432] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:21:46,437.437] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:21:46,438.438] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 22:21:46,438.438] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00011s] {'pk_1': UUID('ed4cfcd2-73b5-48ea-b404-3b7833b1a257')}
[2025-07-06 22:21:46,471.471] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 22:21:46,471.471] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 22:21:46] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-06 22:23:45,988.988] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/core/file_extractor/file_extractor.py', reloading
[2025-07-06 22:23:46,258.258] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 22:23:48,057.057] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 22:23:48,068.068] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 22:24:06,061.061] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-06 22:24:06,062.062] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:24:06,063.063] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-06 22:24:06,063.063] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:24:06,063.063] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-06 22:24:06,063.063] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:24:06,064.064] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:24:06,065.065] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 22:24:06,065.065] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00019s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 22:24:06,069.069] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 22:24:06,069.069] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00022s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 22:24:06,071.071] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 22:24:06,072.072] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00023s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 22:24:06,076.076] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:24:06,078.078] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:24:06,081.081] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 22:24:06,081.081] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00016s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 22:24:06,084.084] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 22:24:06,084.084] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00013s] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 22:24:06,085.085] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 22:24:06,085.085] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00016s] {'pk_1': UUID('884144dd-e76d-41dc-b008-f6690e56a4bd')}
[2025-07-06 22:24:06,087.087] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 22:24:06,087.087] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00013s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('884144dd-e76d-41dc-b008-f6690e56a4bd'), 'batch': '20250706222406862346', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 94, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 22:24:06,089.089] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:24:06,094.094] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:24:06,095.095] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 22:24:06,095.095] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00019s] {'pk_1': UUID('690130a1-d01a-4914-81ad-73804e22c1dc')}
[2025-07-06 22:24:06,129.129] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 22:24:06,129.129] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 22:24:06] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-06 22:25:19,790.790] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/service/indexing_service.py', reloading
[2025-07-06 22:25:20,034.034] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 22:25:21,596.596] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 22:25:21,606.606] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 22:26:25,906.906] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/extension/celery_extension.py', reloading
[2025-07-06 22:26:26,167.167] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 22:26:27,895.895] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 22:26:27,905.905] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 22:37:19,201.201] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/service/indexing_service.py', reloading
[2025-07-06 22:37:19,525.525] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 22:37:21,176.176] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 22:37:21,186.186] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 22:37:26,479.479] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-06 22:37:26,479.479] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:37:26,481.481] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-06 22:37:26,481.481] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:37:26,481.481] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-06 22:37:26,482.482] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:37:26,482.482] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:37:26,484.484] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 22:37:26,484.484] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00014s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 22:37:26,487.487] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 22:37:26,487.487] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00019s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 22:37:26,490.490] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 22:37:26,490.490] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00022s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 22:37:26,493.493] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:37:26,495.495] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:37:26,498.498] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 22:37:26,498.498] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00016s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 22:37:26,501.501] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 22:37:26,501.501] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00014s] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 22:37:26,503.503] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 22:37:26,503.503] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00015s] {'pk_1': UUID('de68b0fe-e801-4af6-9f4e-f3f0a44048b7')}
[2025-07-06 22:37:26,505.505] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 22:37:26,505.505] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00015s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('de68b0fe-e801-4af6-9f4e-f3f0a44048b7'), 'batch': '20250706223726889659', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 95, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 22:37:26,506.506] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:37:26,510.510] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:37:26,511.511] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 22:37:26,511.511] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00010s] {'pk_1': UUID('bd89db5b-307e-4916-bd41-be9860edd981')}
[2025-07-06 22:37:26,532.532] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 22:37:26,532.532] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 22:37:26] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-06 22:42:28,617.617] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/service/indexing_service.py', reloading
[2025-07-06 22:42:28,886.886] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 22:42:30,658.658] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 22:42:30,670.670] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 22:46:01,956.956] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-06 22:46:01,956.956] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:46:01,959.959] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-06 22:46:01,959.959] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:46:01,960.960] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-06 22:46:01,960.960] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:46:01,960.960] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:46:01,962.962] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 22:46:01,962.962] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00013s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 22:46:01,966.966] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 22:46:01,966.966] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00014s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 22:46:01,971.971] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 22:46:01,971.971] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00019s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 22:46:01,973.973] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:46:01,975.975] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:46:01,978.978] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 22:46:01,978.978] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00026s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 22:46:01,981.981] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 22:46:01,981.981] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00013s] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 22:46:01,982.982] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 22:46:01,982.982] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00011s] {'pk_1': UUID('b55c03b7-5caa-4324-aef7-8b3d2a02f473')}
[2025-07-06 22:46:01,984.984] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 22:46:01,984.984] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00014s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('b55c03b7-5caa-4324-aef7-8b3d2a02f473'), 'batch': '20250706224601849187', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 96, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 22:46:01,986.986] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:46:01,991.991] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:46:01,992.992] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 22:46:01,992.992] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00013s] {'pk_1': UUID('1a417a1d-5cc0-4678-ba2d-5a741e3589fb')}
[2025-07-06 22:46:02,032.032] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 22:46:02,033.033] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 22:46:02] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-06 22:47:41,552.552] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/service/indexing_service.py', reloading
[2025-07-06 22:47:41,819.819] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 22:47:43,518.518] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 22:47:43,529.529] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 22:48:01,219.219] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-06 22:48:01,219.219] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:48:01,220.220] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-06 22:48:01,220.220] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:48:01,220.220] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-06 22:48:01,220.220] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:48:01,221.221] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:48:01,222.222] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 22:48:01,222.222] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00016s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 22:48:01,226.226] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 22:48:01,226.226] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00020s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 22:48:01,229.229] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 22:48:01,229.229] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00023s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 22:48:01,233.233] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:48:01,234.234] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:48:01,238.238] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 22:48:01,238.238] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00021s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 22:48:01,242.242] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 22:48:01,242.242] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00016s] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 22:48:01,243.243] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 22:48:01,243.243] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00009s] {'pk_1': UUID('e8b28896-ae96-494a-bf9b-6103efb8627c')}
[2025-07-06 22:48:01,245.245] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 22:48:01,246.246] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00021s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('e8b28896-ae96-494a-bf9b-6103efb8627c'), 'batch': '20250706224801526309', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 97, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 22:48:01,247.247] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:48:01,251.251] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:48:01,251.251] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 22:48:01,251.251] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00010s] {'pk_1': UUID('339eb7d5-a845-405e-bd41-ae11ae5c6248')}
[2025-07-06 22:48:01,284.284] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 22:48:01,284.284] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 22:48:01] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-06 22:49:02,350.350] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/service/indexing_service.py', reloading
[2025-07-06 22:49:02,607.607] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 22:49:04,478.478] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 22:49:04,489.489] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 22:49:31,877.877] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-06 22:49:31,877.877] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:49:31,878.878] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-06 22:49:31,878.878] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:49:31,878.878] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-06 22:49:31,879.879] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:49:31,879.879] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:49:31,881.881] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 22:49:31,881.881] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00017s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 22:49:31,884.884] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 22:49:31,885.885] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00021s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 22:49:31,888.888] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 22:49:31,888.888] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00016s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 22:49:31,892.892] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:49:31,893.893] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:49:31,896.896] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 22:49:31,896.896] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00013s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 22:49:31,899.899] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 22:49:31,899.899] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00010s] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 22:49:31,900.900] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 22:49:31,901.901] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00018s] {'pk_1': UUID('544bfe63-1fbc-4193-b645-d1b8f8259bb8')}
[2025-07-06 22:49:31,904.904] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 22:49:31,904.904] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00019s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('544bfe63-1fbc-4193-b645-d1b8f8259bb8'), 'batch': '20250706224931650957', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 98, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 22:49:31,905.905] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:49:31,910.910] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:49:31,911.911] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 22:49:31,911.911] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00011s] {'pk_1': UUID('5f5ad112-3ce2-46aa-a767-b971e166e27f')}
[2025-07-06 22:49:31,946.946] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 22:49:31,947.947] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 22:49:31] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-06 22:50:04,819.819] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/service/indexing_service.py', reloading
[2025-07-06 22:50:05,128.128] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 22:50:06,982.982] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 22:50:06,994.994] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 22:50:09,123.123] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/service/indexing_service.py', reloading
[2025-07-06 22:50:09,429.429] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 22:50:10,851.851] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 22:50:10,861.861] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 22:50:39,855.855] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-06 22:50:39,855.855] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:50:39,857.857] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-06 22:50:39,857.857] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:50:39,858.858] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-06 22:50:39,858.858] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:50:39,859.859] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:50:39,861.861] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 22:50:39,861.861] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00015s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 22:50:39,864.864] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 22:50:39,864.864] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00021s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 22:50:39,869.869] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 22:50:39,869.869] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00025s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 22:50:39,873.873] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:50:39,877.877] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:50:39,880.880] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 22:50:39,880.880] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00018s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 22:50:39,887.887] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 22:50:39,887.887] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00020s] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 22:50:39,889.889] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 22:50:39,890.890] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00016s] {'pk_1': UUID('4c8987b1-e4db-4e86-a610-b73024bc0106')}
[2025-07-06 22:50:39,894.894] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 22:50:39,895.895] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00024s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('4c8987b1-e4db-4e86-a610-b73024bc0106'), 'batch': '20250706225039785962', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 99, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 22:50:39,896.896] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:50:39,900.900] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:50:39,901.901] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 22:50:39,901.901] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00012s] {'pk_1': UUID('0bf844d5-2f10-4a4d-a976-7409b17e11bc')}
[2025-07-06 22:50:39,941.941] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 22:50:39,942.942] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 22:50:39] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-06 22:52:54,941.941] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/service/indexing_service.py', reloading
[2025-07-06 22:52:55,200.200] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 22:52:56,983.983] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 22:52:56,994.994] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 22:53:08,301.301] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-06 22:53:08,301.301] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:53:08,302.302] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-06 22:53:08,302.302] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:53:08,302.302] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-06 22:53:08,302.302] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:53:08,303.303] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:53:08,304.304] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 22:53:08,304.304] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00011s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 22:53:08,307.307] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 22:53:08,307.307] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00020s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 22:53:08,310.310] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 22:53:08,310.310] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00019s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 22:53:08,313.313] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:53:08,316.316] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:53:08,318.318] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 22:53:08,318.318] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00014s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 22:53:08,321.321] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 22:53:08,321.321] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00015s] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 22:53:08,322.322] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 22:53:08,322.322] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00011s] {'pk_1': UUID('f319ef9d-b472-4086-befc-9d64fbea0bb7')}
[2025-07-06 22:53:08,324.324] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 22:53:08,325.325] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00014s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('f319ef9d-b472-4086-befc-9d64fbea0bb7'), 'batch': '20250706225308799629', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 100, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 22:53:08,326.326] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:53:08,330.330] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:53:08,331.331] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 22:53:08,331.331] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00010s] {'pk_1': UUID('5692ca68-ca15-473f-ae04-195f0064fef0')}
[2025-07-06 22:53:08,357.357] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 22:53:08,357.357] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 22:53:08] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-06 22:54:05,521.521] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/service/indexing_service.py', reloading
[2025-07-06 22:54:05,783.783] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 22:54:07,584.584] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 22:54:07,596.596] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 22:54:21,861.861] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-06 22:54:21,861.861] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:54:21,862.862] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-06 22:54:21,862.862] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:54:21,863.863] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-06 22:54:21,863.863] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 22:54:21,863.863] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:54:21,865.865] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 22:54:21,865.865] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00015s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 22:54:21,869.869] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 22:54:21,870.870] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00030s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 22:54:21,873.873] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 22:54:21,873.873] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00019s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 22:54:21,876.876] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:54:21,877.877] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:54:21,879.879] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 22:54:21,880.880] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00013s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 22:54:21,882.882] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 22:54:21,882.882] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00009s] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 22:54:21,883.883] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 22:54:21,883.883] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00009s] {'pk_1': UUID('d707b085-fa0a-4867-9b6a-af23e81aa752')}
[2025-07-06 22:54:21,885.885] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 22:54:21,885.885] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00016s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('d707b085-fa0a-4867-9b6a-af23e81aa752'), 'batch': '20250706225421512842', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 101, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 22:54:21,887.887] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 22:54:21,891.891] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 22:54:21,891.891] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 22:54:21,891.891] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00010s] {'pk_1': UUID('f1d988bf-5c9c-4a35-b94b-d0427571d73d')}
[2025-07-06 22:54:21,916.916] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 22:54:21,917.917] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 22:54:21] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-06 23:00:30,692.692] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/service/indexing_service.py', reloading
[2025-07-06 23:00:30,988.988] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 23:00:32,668.668] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 23:00:32,679.679] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 23:01:58,317.317] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-06 23:01:58,318.318] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 23:01:58,319.319] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-06 23:01:58,319.319] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 23:01:58,321.321] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-06 23:01:58,321.321] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 23:01:58,324.324] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:01:58,326.326] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 23:01:58,326.326] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00014s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 23:01:58,329.329] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 23:01:58,329.329] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00019s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 23:01:58,332.332] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 23:01:58,332.332] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00019s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 23:01:58,336.336] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 23:01:58,337.337] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:01:58,339.339] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 23:01:58,340.340] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00013s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 23:01:58,342.342] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 23:01:58,343.343] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00015s] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 23:01:58,344.344] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 23:01:58,344.344] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00010s] {'pk_1': UUID('ff9c01e2-f539-464b-8548-ef6b254ab8c2')}
[2025-07-06 23:01:58,346.346] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 23:01:58,346.346] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00012s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('ff9c01e2-f539-464b-8548-ef6b254ab8c2'), 'batch': '20250706230158251223', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 102, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 23:01:58,347.347] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 23:01:58,353.353] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:01:58,354.354] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 23:01:58,354.354] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00021s] {'pk_1': UUID('6404ef49-7cd8-483a-8247-452f92a6d692')}
[2025-07-06 23:01:58,396.396] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 23:01:58,396.396] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 23:01:58] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-06 23:02:26,099.099] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/service/indexing_service.py', reloading
[2025-07-06 23:02:26,373.373] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 23:02:28,083.083] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 23:02:28,094.094] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 23:02:39,164.164] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-06 23:02:39,165.165] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 23:02:39,166.166] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-06 23:02:39,166.166] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 23:02:39,166.166] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-06 23:02:39,166.166] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 23:02:39,167.167] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:02:39,168.168] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 23:02:39,169.169] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00042s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 23:02:39,173.173] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 23:02:39,173.173] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00022s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 23:02:39,175.175] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 23:02:39,175.175] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00018s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 23:02:39,182.182] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 23:02:39,183.183] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:02:39,185.185] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 23:02:39,185.185] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00015s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 23:02:39,188.188] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 23:02:39,188.188] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00014s] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 23:02:39,189.189] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 23:02:39,189.189] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00017s] {'pk_1': UUID('20b3f1ce-c07d-4d82-89b8-dedf42d66f16')}
[2025-07-06 23:02:39,191.191] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 23:02:39,191.191] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00013s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('20b3f1ce-c07d-4d82-89b8-dedf42d66f16'), 'batch': '20250706230239515205', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 103, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 23:02:39,193.193] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 23:02:39,198.198] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:02:39,199.199] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 23:02:39,199.199] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00011s] {'pk_1': UUID('4d61a0ff-ce65-4d20-8062-3c2316992b44')}
[2025-07-06 23:02:39,228.228] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 23:02:39,228.228] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 23:02:39] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-06 23:03:58,476.476] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/service/indexing_service.py', reloading
[2025-07-06 23:03:58,749.749] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 23:04:00,419.419] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 23:04:00,431.431] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 23:04:07,386.386] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-06 23:04:07,387.387] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 23:04:07,388.388] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-06 23:04:07,388.388] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 23:04:07,388.388] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-06 23:04:07,388.388] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 23:04:07,389.389] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:04:07,390.390] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 23:04:07,391.391] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00021s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 23:04:07,396.396] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 23:04:07,396.396] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00026s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 23:04:07,399.399] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 23:04:07,399.399] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00015s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 23:04:07,402.402] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 23:04:07,405.405] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:04:07,407.407] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 23:04:07,407.407] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00013s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 23:04:07,410.410] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 23:04:07,410.410] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00019s] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 23:04:07,412.412] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 23:04:07,412.412] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00018s] {'pk_1': UUID('4b6648af-ac64-42b8-a0c6-7c24b6ecde66')}
[2025-07-06 23:04:07,415.415] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 23:04:07,415.415] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00022s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('4b6648af-ac64-42b8-a0c6-7c24b6ecde66'), 'batch': '20250706230407296119', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 104, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 23:04:07,416.416] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 23:04:07,422.422] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:04:07,424.424] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 23:04:07,424.424] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00021s] {'pk_1': UUID('074e35a9-6f22-46bf-af56-0fd30be03d60')}
[2025-07-06 23:04:07,459.459] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 23:04:07,460.460] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 23:04:07] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-06 23:09:17,531.531] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/service/indexing_service.py', reloading
[2025-07-06 23:09:17,796.796] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 23:09:19,523.523] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 23:09:19,535.535] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 23:09:22,337.337] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-06 23:09:22,337.337] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 23:09:22,338.338] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-06 23:09:22,339.339] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 23:09:22,343.343] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-06 23:09:22,343.343] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 23:09:22,343.343] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:09:22,345.345] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 23:09:22,345.345] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00012s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 23:09:22,348.348] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 23:09:22,348.348] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00020s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 23:09:22,351.351] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 23:09:22,351.351] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00019s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 23:09:22,354.354] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 23:09:22,355.355] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:09:22,358.358] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 23:09:22,358.358] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00014s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 23:09:22,360.360] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 23:09:22,360.360] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00010s] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 23:09:22,361.361] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 23:09:22,361.361] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00009s] {'pk_1': UUID('14eed481-e741-48a1-9cbe-446c36204fb5')}
[2025-07-06 23:09:22,363.363] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 23:09:22,363.363] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00013s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('14eed481-e741-48a1-9cbe-446c36204fb5'), 'batch': '20250706230922571539', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 105, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 23:09:22,364.364] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 23:09:22,369.369] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:09:22,370.370] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 23:09:22,370.370] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00010s] {'pk_1': UUID('89426f05-a146-4e7f-a648-0a1fdb355465')}
[2025-07-06 23:09:22,395.395] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 23:09:22,396.396] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 23:09:22] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-06 23:10:01,104.104] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:10:01,106.106] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 23:10:01,106.106] base.py -> _exec_single_context line:1901 [INFO]: [cached since 38.76s ago] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 23:10:01,111.111] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 23:10:01,111.111] base.py -> _exec_single_context line:1901 [INFO]: [cached since 38.76s ago] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 23:10:01,113.113] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 23:10:01,113.113] base.py -> _exec_single_context line:1901 [INFO]: [cached since 38.76s ago] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 23:10:01,115.115] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 23:10:01,118.118] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:10:01,119.119] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 23:10:01,119.119] base.py -> _exec_single_context line:1901 [INFO]: [cached since 38.76s ago] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 23:10:01,121.121] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 23:10:01,121.121] base.py -> _exec_single_context line:1901 [INFO]: [cached since 38.76s ago] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 23:10:01,122.122] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 23:10:01,122.122] base.py -> _exec_single_context line:1901 [INFO]: [cached since 38.76s ago] {'pk_1': UUID('aa903532-35c9-4215-9bd9-fb8a59ff2a37')}
[2025-07-06 23:10:01,124.124] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 23:10:01,124.124] base.py -> _exec_single_context line:1901 [INFO]: [cached since 38.76s ago] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('aa903532-35c9-4215-9bd9-fb8a59ff2a37'), 'batch': '20250706231001638736', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 106, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 23:10:01,125.125] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 23:10:01,127.127] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:10:01,127.127] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 23:10:01,127.127] base.py -> _exec_single_context line:1901 [INFO]: [cached since 38.76s ago] {'pk_1': UUID('dcf8672a-73b1-4fda-a337-e454ed2a79fb')}
[2025-07-06 23:10:01,160.160] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 23:10:01,161.161] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 23:10:01] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-06 23:18:53,572.572] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/service/indexing_service.py', reloading
[2025-07-06 23:18:53,868.868] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 23:18:55,672.672] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 23:18:55,684.684] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 23:19:28,896.896] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/service/indexing_service.py', reloading
[2025-07-06 23:19:29,157.157] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 23:19:30,813.813] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 23:19:30,823.823] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 23:19:41,793.793] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-06 23:19:41,794.794] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 23:19:41,795.795] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-06 23:19:41,795.795] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 23:19:41,795.795] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-06 23:19:41,795.795] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 23:19:41,796.796] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:19:41,797.797] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 23:19:41,798.798] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00013s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 23:19:41,801.801] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 23:19:41,801.801] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00019s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 23:19:41,805.805] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 23:19:41,805.805] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00025s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 23:19:41,809.809] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 23:19:41,811.811] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:19:41,814.814] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 23:19:41,814.814] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00016s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 23:19:41,816.816] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 23:19:41,816.816] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00015s] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 23:19:41,818.818] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 23:19:41,818.818] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00021s] {'pk_1': UUID('2c13872d-ba3b-4107-b8d1-974184dc1379')}
[2025-07-06 23:19:41,821.821] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 23:19:41,821.821] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00020s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('2c13872d-ba3b-4107-b8d1-974184dc1379'), 'batch': '20250706231941556078', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 107, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 23:19:41,822.822] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 23:19:41,828.828] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:19:41,829.829] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 23:19:41,829.829] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00011s] {'pk_1': UUID('f78bde60-1d73-4993-9b8f-82030309480a')}
[2025-07-06 23:19:41,857.857] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 23:19:41,858.858] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 23:19:41] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-06 23:24:03,649.649] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/service/indexing_service.py', reloading
[2025-07-06 23:24:03,911.911] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 23:24:05,696.696] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 23:24:05,707.707] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 23:24:13,306.306] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-06 23:24:13,306.306] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 23:24:13,308.308] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-06 23:24:13,308.308] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 23:24:13,308.308] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-06 23:24:13,309.309] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 23:24:13,309.309] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:24:13,311.311] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 23:24:13,311.311] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00017s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 23:24:13,314.314] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 23:24:13,314.314] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00020s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 23:24:13,318.318] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 23:24:13,318.318] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00016s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 23:24:13,321.321] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 23:24:13,323.323] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:24:13,326.326] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 23:24:13,326.326] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00018s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 23:24:13,329.329] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 23:24:13,329.329] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00016s] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 23:24:13,330.330] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 23:24:13,330.330] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00010s] {'pk_1': UUID('83fd86a7-0fe6-49e4-9990-c61e58c965a5')}
[2025-07-06 23:24:13,336.336] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 23:24:13,336.336] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00015s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('83fd86a7-0fe6-49e4-9990-c61e58c965a5'), 'batch': '20250706232413374027', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 108, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 23:24:13,337.337] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 23:24:13,342.342] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:24:13,343.343] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 23:24:13,343.343] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00011s] {'pk_1': UUID('135c75ea-109d-4759-83bc-dce95f8d0d68')}
[2025-07-06 23:24:13,370.370] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 23:24:13,370.370] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 23:24:13] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-06 23:29:15,578.578] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/service/indexing_service.py', reloading
[2025-07-06 23:29:15,850.850] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 23:29:17,596.596] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 23:29:17,607.607] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 23:29:33,166.166] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/service/indexing_service.py', reloading
[2025-07-06 23:29:33,395.395] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 23:29:34,991.991] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 23:29:35,000.000] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 23:29:55,675.675] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-06 23:29:55,676.676] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 23:29:55,676.676] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-06 23:29:55,677.677] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 23:29:55,677.677] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-06 23:29:55,677.677] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 23:29:55,677.677] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:29:55,679.679] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 23:29:55,679.679] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00011s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 23:29:55,685.685] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 23:29:55,685.685] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00028s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 23:29:55,689.689] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 23:29:55,689.689] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00034s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 23:29:55,693.693] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 23:29:55,694.694] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:29:55,697.697] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 23:29:55,697.697] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00021s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 23:29:55,701.701] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 23:29:55,701.701] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00016s] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 23:29:55,702.702] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 23:29:55,702.702] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00010s] {'pk_1': UUID('195c7313-bdd3-4e13-998e-7598e150b275')}
[2025-07-06 23:29:55,704.704] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 23:29:55,704.704] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00012s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('195c7313-bdd3-4e13-998e-7598e150b275'), 'batch': '20250706232955704295', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 109, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 23:29:55,706.706] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 23:29:55,711.711] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:29:55,712.712] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 23:29:55,712.712] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00019s] {'pk_1': UUID('812b3fb7-a0ff-48ae-ba38-f512975594db')}
[2025-07-06 23:29:55,755.755] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 23:29:55,755.755] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 23:29:55] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-06 23:33:27,428.428] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/service/indexing_service.py', reloading
[2025-07-06 23:33:27,695.695] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 23:33:29,352.352] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 23:33:29,365.365] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 23:33:58,368.368] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/service/indexing_service.py', reloading
[2025-07-06 23:33:58,613.613] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 23:34:00,269.269] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 23:34:00,279.279] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 23:34:18,899.899] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-06 23:34:18,900.900] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 23:34:18,901.901] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-06 23:34:18,901.901] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 23:34:18,902.902] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-06 23:34:18,902.902] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 23:34:18,903.903] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:34:18,906.906] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 23:34:18,906.906] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00024s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 23:34:18,910.910] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 23:34:18,910.910] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00022s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 23:34:18,913.913] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 23:34:18,914.914] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00019s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 23:34:18,917.917] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 23:34:18,920.920] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:34:18,923.923] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 23:34:18,923.923] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00023s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 23:34:18,926.926] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 23:34:18,926.926] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00019s] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 23:34:18,928.928] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 23:34:18,928.928] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00018s] {'pk_1': UUID('6ae8a420-dcd8-4973-b719-7b983bfacd7f')}
[2025-07-06 23:34:18,931.931] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 23:34:18,931.931] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00024s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('6ae8a420-dcd8-4973-b719-7b983bfacd7f'), 'batch': '20250706233418320593', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 110, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 23:34:18,933.933] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 23:34:18,938.938] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:34:18,938.938] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 23:34:18,939.939] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00012s] {'pk_1': UUID('215eb8e3-c527-46c2-bc7e-bb8cedf7fed3')}
[2025-07-06 23:34:18,975.975] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 23:34:18,976.976] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 23:34:18] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-06 23:35:46,399.399] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/service/indexing_service.py', reloading
[2025-07-06 23:35:46,664.664] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 23:35:48,332.332] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 23:35:48,343.343] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 23:38:48,034.034] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/service/indexing_service.py', reloading
[2025-07-06 23:38:48,295.295] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 23:38:50,093.093] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 23:38:50,105.105] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 23:39:07,865.865] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-06 23:39:07,866.866] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 23:39:07,867.867] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-06 23:39:07,867.867] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 23:39:07,868.868] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-06 23:39:07,869.869] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 23:39:07,870.870] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:39:07,872.872] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 23:39:07,876.876] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00346s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 23:39:07,886.886] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 23:39:07,886.886] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00024s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 23:39:07,890.890] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 23:39:07,890.890] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00019s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 23:39:07,894.894] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 23:39:07,896.896] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:39:07,898.898] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 23:39:07,898.898] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00014s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 23:39:07,901.901] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 23:39:07,901.901] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00012s] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 23:39:07,902.902] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 23:39:07,903.903] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00016s] {'pk_1': UUID('f1972088-fb07-47cc-b57d-3719b5ae075a')}
[2025-07-06 23:39:07,905.905] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 23:39:07,905.905] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00018s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('f1972088-fb07-47cc-b57d-3719b5ae075a'), 'batch': '20250706233907180669', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 111, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 23:39:07,906.906] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 23:39:07,912.912] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:39:07,912.912] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 23:39:07,912.912] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00011s] {'pk_1': UUID('92c0d352-692e-48a2-bd07-74a5634a7fd2')}
[2025-07-06 23:39:07,953.953] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 23:39:07,955.955] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 23:39:07] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-06 23:40:06,989.989] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/service/indexing_service.py', reloading
[2025-07-06 23:40:07,290.290] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-06 23:40:08,991.991] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-06 23:40:09,002.002] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-06 23:40:44,250.250] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-06 23:40:44,251.251] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 23:40:44,252.252] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-06 23:40:44,252.252] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 23:40:44,253.253] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-06 23:40:44,253.253] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-06 23:40:44,254.254] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:40:44,255.255] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-06 23:40:44,256.256] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00011s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-06 23:40:44,258.258] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-06 23:40:44,259.259] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00023s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-06 23:40:44,262.262] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-06 23:40:44,262.262] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00022s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-06 23:40:44,265.265] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 23:40:44,266.266] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:40:44,269.269] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-06 23:40:44,269.269] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00018s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-06 23:40:44,272.272] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-06 23:40:44,272.272] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00018s] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-06 23:40:44,273.273] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-06 23:40:44,273.273] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00011s] {'pk_1': UUID('2449bb19-afc1-4280-bb81-52b28f2ba3af')}
[2025-07-06 23:40:44,275.275] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-06 23:40:44,275.275] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00016s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('2449bb19-afc1-4280-bb81-52b28f2ba3af'), 'batch': '20250706234044305010', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 112, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-06 23:40:44,276.276] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-06 23:40:44,281.281] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-06 23:40:44,281.281] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-06 23:40:44,281.281] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00011s] {'pk_1': UUID('61b9ae1d-54c0-4de2-8e6a-9abb80e8e8cd')}
[2025-07-06 23:40:44,321.321] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-06 23:40:44,321.321] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [06/Jul/2025 23:40:44] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
