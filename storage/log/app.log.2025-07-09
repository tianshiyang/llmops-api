[2025-07-09 23:18:49,718.718] _internal.py -> _log line:97 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2025-07-09 23:18:49,718.718] _internal.py -> _log line:97 [INFO]: [33mPress CTRL+C to quit[0m
[2025-07-09 23:18:49,719.719] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-09 23:18:51,294.294] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-09 23:18:51,309.309] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-09 23:22:37,066.066] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-09 23:22:37,067.067] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-09 23:22:37,069.069] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-09 23:22:37,069.069] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-09 23:22:37,070.070] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-09 23:22:37,070.070] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-09 23:22:37,071.071] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-09 23:22:37,076.076] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-09 23:22:37,076.076] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00022s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-09 23:22:37,090.090] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-09 23:22:37,091.091] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00041s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-09 23:22:37,099.099] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-09 23:22:37,099.099] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00073s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-09 23:22:37,142.142] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-09 23:22:37,143.143] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-09 23:22:37,145.145] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-09 23:22:37,145.145] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00015s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-09 23:22:37,151.151] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-09 23:22:37,151.151] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00012s] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-09 23:22:37,154.154] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-09 23:22:37,155.155] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00039s] {'pk_1': UUID('4c6ce489-c83b-423e-b49c-8923a97f175f')}
[2025-07-09 23:22:37,160.160] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-09 23:22:37,160.160] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00023s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('4c6ce489-c83b-423e-b49c-8923a97f175f'), 'batch': '20250709232237161874', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 113, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-09 23:22:37,164.164] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-09 23:22:37,173.173] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-09 23:22:37,174.174] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-09 23:22:37,174.174] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00015s] {'pk_1': UUID('eda7cf94-0c6c-4a62-bfe3-4deec3a82250')}
[2025-07-09 23:22:37,226.226] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-09 23:22:37,226.226] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [09/Jul/2025 23:22:37] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-09 23:23:38,681.681] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-09 23:23:38,681.681] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-09 23:23:38,681.681] base.py -> _exec_single_context line:1901 [INFO]: [cached since 61.61s ago] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-09 23:23:38,683.683] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-09 23:23:38,683.683] base.py -> _exec_single_context line:1901 [INFO]: [cached since 61.59s ago] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': '252b8261-f973-4ec7-9349-aaa716646deb'}
[2025-07-09 23:23:38,684.684] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-09 23:23:38,684.684] base.py -> _exec_single_context line:1901 [INFO]: [cached since 61.59s ago] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-09 23:23:38,691.691] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-09 23:23:38,692.692] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-09 23:23:38,692.692] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-09 23:23:38,692.692] base.py -> _exec_single_context line:1901 [INFO]: [cached since 61.55s ago] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-09 23:23:38,693.693] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-09 23:23:38,693.693] base.py -> _exec_single_context line:1901 [INFO]: [cached since 61.54s ago] {'pk_1': UUID('252b8261-f973-4ec7-9349-aaa716646deb')}
[2025-07-09 23:23:38,694.694] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-09 23:23:38,694.694] base.py -> _exec_single_context line:1901 [INFO]: [cached since 61.54s ago] {'pk_1': UUID('cb91fb20-4dc3-45f0-9e84-99fb56817b6d')}
[2025-07-09 23:23:38,695.695] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-09 23:23:38,695.695] base.py -> _exec_single_context line:1901 [INFO]: [cached since 61.54s ago] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('252b8261-f973-4ec7-9349-aaa716646deb'), 'process_rule_id': UUID('cb91fb20-4dc3-45f0-9e84-99fb56817b6d'), 'batch': '20250709232338120963', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 114, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-09 23:23:38,695.695] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-09 23:23:38,696.696] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-09 23:23:38,696.696] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-09 23:23:38,696.696] base.py -> _exec_single_context line:1901 [INFO]: [cached since 61.52s ago] {'pk_1': UUID('02e45bb3-4326-43b4-a839-05d3f685a2cd')}
[2025-07-09 23:23:38,720.720] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-09 23:23:38,720.720] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [09/Jul/2025 23:23:38] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-09 23:25:28,489.489] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-09 23:25:28,490.490] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-09 23:25:28,490.490] base.py -> _exec_single_context line:1901 [INFO]: [cached since 171.4s ago] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-09 23:25:28,492.492] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-09 23:25:28,492.492] base.py -> _exec_single_context line:1901 [INFO]: [cached since 171.4s ago] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': 'a11040c0-0de1-45c8-8803-d0ed52c24979'}
[2025-07-09 23:25:28,493.493] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-09 23:25:28,493.493] base.py -> _exec_single_context line:1901 [INFO]: [cached since 171.4s ago] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-09 23:25:28,494.494] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-09 23:25:28,495.495] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-09 23:25:28,496.496] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-09 23:25:28,496.496] base.py -> _exec_single_context line:1901 [INFO]: [cached since 171.4s ago] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-09 23:25:28,496.496] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-09 23:25:28,497.497] base.py -> _exec_single_context line:1901 [INFO]: [cached since 171.3s ago] {'pk_1': UUID('a11040c0-0de1-45c8-8803-d0ed52c24979')}
[2025-07-09 23:25:28,497.497] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-09 23:25:28,497.497] base.py -> _exec_single_context line:1901 [INFO]: [cached since 171.3s ago] {'pk_1': UUID('bcb3dc6d-44b4-4b7f-b7da-267302af9218')}
[2025-07-09 23:25:28,498.498] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-09 23:25:28,498.498] base.py -> _exec_single_context line:1901 [INFO]: [cached since 171.3s ago] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('a11040c0-0de1-45c8-8803-d0ed52c24979'), 'process_rule_id': UUID('bcb3dc6d-44b4-4b7f-b7da-267302af9218'), 'batch': '20250709232528315795', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 115, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-09 23:25:28,499.499] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-09 23:25:28,499.499] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-09 23:25:28,499.499] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-09 23:25:28,499.499] base.py -> _exec_single_context line:1901 [INFO]: [cached since 171.3s ago] {'pk_1': UUID('2d5237ea-8383-43f7-8108-b4cd312cb242')}
[2025-07-09 23:25:28,512.512] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-09 23:25:28,512.512] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [09/Jul/2025 23:25:28] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-09 23:27:33,996.996] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/service/indexing_service.py', reloading
[2025-07-09 23:27:34,342.342] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-09 23:27:36,089.089] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-09 23:27:36,100.100] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-09 23:28:21,672.672] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/service/indexing_service.py', reloading
[2025-07-09 23:28:21,947.947] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-09 23:28:23,844.844] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-09 23:28:23,860.860] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-09 23:29:08,496.496] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-09 23:29:08,497.497] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-09 23:29:08,498.498] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-09 23:29:08,498.498] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-09 23:29:08,499.499] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-09 23:29:08,499.499] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-09 23:29:08,500.500] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-09 23:29:08,502.502] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-09 23:29:08,503.503] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00026s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-09 23:29:08,506.506] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-09 23:29:08,507.507] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00055s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': 'a11040c0-0de1-45c8-8803-d0ed52c24979'}
[2025-07-09 23:29:08,512.512] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-09 23:29:08,512.512] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00044s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-09 23:29:08,517.517] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-09 23:29:08,518.518] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-09 23:29:08,520.520] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-09 23:29:08,520.520] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00014s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-09 23:29:08,524.524] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-09 23:29:08,524.524] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00016s] {'pk_1': UUID('a11040c0-0de1-45c8-8803-d0ed52c24979')}
[2025-07-09 23:29:08,525.525] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-09 23:29:08,525.525] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00018s] {'pk_1': UUID('984f10d2-920b-4fb8-99e0-da881565d0f8')}
[2025-07-09 23:29:08,527.527] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-09 23:29:08,528.528] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00023s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('a11040c0-0de1-45c8-8803-d0ed52c24979'), 'process_rule_id': UUID('984f10d2-920b-4fb8-99e0-da881565d0f8'), 'batch': '20250709232908812780', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 116, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-09 23:29:08,529.529] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-09 23:29:08,537.537] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-09 23:29:08,538.538] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-09 23:29:08,538.538] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00011s] {'pk_1': UUID('6695c4ec-0b56-48b7-9d8c-498d434cc0fc')}
[2025-07-09 23:29:08,582.582] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-09 23:29:08,583.583] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [09/Jul/2025 23:29:08] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-09 23:29:41,769.769] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-09 23:29:41,770.770] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-09 23:29:41,770.770] base.py -> _exec_single_context line:1901 [INFO]: [cached since 33.27s ago] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-09 23:29:41,773.773] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-09 23:29:41,773.773] base.py -> _exec_single_context line:1901 [INFO]: [cached since 33.27s ago] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': 'a11040c0-0de1-45c8-8803-d0ed52c24979'}
[2025-07-09 23:29:41,775.775] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-09 23:29:41,775.775] base.py -> _exec_single_context line:1901 [INFO]: [cached since 33.26s ago] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-09 23:29:41,776.776] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-09 23:29:41,778.778] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-09 23:29:41,778.778] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-09 23:29:41,778.778] base.py -> _exec_single_context line:1901 [INFO]: [cached since 33.26s ago] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-09 23:29:41,779.779] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-09 23:29:41,779.779] base.py -> _exec_single_context line:1901 [INFO]: [cached since 33.26s ago] {'pk_1': UUID('a11040c0-0de1-45c8-8803-d0ed52c24979')}
[2025-07-09 23:29:41,781.781] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-09 23:29:41,781.781] base.py -> _exec_single_context line:1901 [INFO]: [cached since 33.26s ago] {'pk_1': UUID('91835326-e534-4b62-a54a-86e8e3c8fd0a')}
[2025-07-09 23:29:41,782.782] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-09 23:29:41,782.782] base.py -> _exec_single_context line:1901 [INFO]: [cached since 33.26s ago] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('a11040c0-0de1-45c8-8803-d0ed52c24979'), 'process_rule_id': UUID('91835326-e534-4b62-a54a-86e8e3c8fd0a'), 'batch': '20250709232941433361', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 117, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-09 23:29:41,783.783] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-09 23:29:41,784.784] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-09 23:29:41,784.784] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-09 23:29:41,784.784] base.py -> _exec_single_context line:1901 [INFO]: [cached since 33.25s ago] {'pk_1': UUID('0918702f-8557-4860-b6d9-361fcda81372')}
[2025-07-09 23:29:41,812.812] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-09 23:29:41,813.813] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [09/Jul/2025 23:29:41] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-09 23:34:51,802.802] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-09 23:34:51,804.804] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-09 23:34:51,804.804] base.py -> _exec_single_context line:1901 [INFO]: [cached since 343.3s ago] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-09 23:34:51,809.809] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-09 23:34:51,810.810] base.py -> _exec_single_context line:1901 [INFO]: [cached since 343.3s ago] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': 'a11040c0-0de1-45c8-8803-d0ed52c24979'}
[2025-07-09 23:34:51,813.813] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-09 23:34:51,813.813] base.py -> _exec_single_context line:1901 [INFO]: [cached since 343.3s ago] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-09 23:34:51,815.815] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-09 23:34:51,817.817] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-09 23:34:51,817.817] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-09 23:34:51,818.818] base.py -> _exec_single_context line:1901 [INFO]: [cached since 343.3s ago] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-09 23:34:51,820.820] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-09 23:34:51,820.820] base.py -> _exec_single_context line:1901 [INFO]: [cached since 343.3s ago] {'pk_1': UUID('a11040c0-0de1-45c8-8803-d0ed52c24979')}
[2025-07-09 23:34:51,821.821] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-09 23:34:51,822.822] base.py -> _exec_single_context line:1901 [INFO]: [cached since 343.3s ago] {'pk_1': UUID('e389d94c-448c-4692-90ab-1b414f76acdf')}
[2025-07-09 23:34:51,823.823] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-09 23:34:51,823.823] base.py -> _exec_single_context line:1901 [INFO]: [cached since 343.3s ago] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('a11040c0-0de1-45c8-8803-d0ed52c24979'), 'process_rule_id': UUID('e389d94c-448c-4692-90ab-1b414f76acdf'), 'batch': '20250709233451981010', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 118, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-09 23:34:51,825.825] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-09 23:34:51,826.826] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-09 23:34:51,827.827] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-09 23:34:51,827.827] base.py -> _exec_single_context line:1901 [INFO]: [cached since 343.3s ago] {'pk_1': UUID('a6ca26a5-85a0-4b79-aaa1-18b7e7dc8e54')}
[2025-07-09 23:34:51,861.861] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-09 23:34:51,861.861] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [09/Jul/2025 23:34:51] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-09 23:37:08,072.072] _internal.py -> _log line:97 [INFO]:  * Detected change in '/Users/icourt1/Desktop/code/llmops/llmops-api/internal/lib/helper.py', reloading
[2025-07-09 23:37:08,318.318] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-09 23:37:10,065.065] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-09 23:37:10,078.078] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-09 23:37:17,722.722] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-09 23:37:17,723.723] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-09 23:37:17,724.724] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-09 23:37:17,724.724] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-09 23:37:17,725.725] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-09 23:37:17,725.725] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-09 23:37:17,726.726] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-09 23:37:17,728.728] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-09 23:37:17,728.728] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00014s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-09 23:37:17,732.732] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-09 23:37:17,732.732] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00015s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': 'a11040c0-0de1-45c8-8803-d0ed52c24979'}
[2025-07-09 23:37:17,735.735] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-09 23:37:17,736.736] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00020s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-09 23:37:17,740.740] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-09 23:37:17,742.742] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-09 23:37:17,744.744] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-09 23:37:17,744.744] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00014s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-09 23:37:17,748.748] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-09 23:37:17,748.748] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00014s] {'pk_1': UUID('a11040c0-0de1-45c8-8803-d0ed52c24979')}
[2025-07-09 23:37:17,751.751] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-09 23:37:17,751.751] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00010s] {'pk_1': UUID('dd90f639-71a8-4ce9-b685-02f95bc7b74f')}
[2025-07-09 23:37:17,754.754] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-09 23:37:17,754.754] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00020s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('a11040c0-0de1-45c8-8803-d0ed52c24979'), 'process_rule_id': UUID('dd90f639-71a8-4ce9-b685-02f95bc7b74f'), 'batch': '20250709233717618304', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 119, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-09 23:37:17,756.756] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-09 23:37:17,762.762] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-09 23:37:17,763.763] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-09 23:37:17,763.763] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00021s] {'pk_1': UUID('cde25af2-0c15-498c-ae49-63c5c67d8e87')}
[2025-07-09 23:37:17,806.806] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-09 23:37:17,807.807] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [09/Jul/2025 23:37:17] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-09 23:38:17,710.710] _internal.py -> _log line:97 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2025-07-09 23:38:17,711.711] _internal.py -> _log line:97 [INFO]: [33mPress CTRL+C to quit[0m
[2025-07-09 23:38:17,712.712] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-09 23:38:19,147.147] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-09 23:38:19,161.161] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-09 23:38:30,233.233] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-09 23:38:30,233.233] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-09 23:38:30,234.234] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-09 23:38:30,234.234] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-09 23:38:30,235.235] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-09 23:38:30,235.235] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-09 23:38:30,236.236] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-09 23:38:30,237.237] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-09 23:38:30,237.237] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00018s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-09 23:38:30,242.242] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-09 23:38:30,242.242] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00017s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': 'a11040c0-0de1-45c8-8803-d0ed52c24979'}
[2025-07-09 23:38:30,246.246] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-09 23:38:30,246.246] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00021s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-09 23:38:30,250.250] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-09 23:38:30,252.252] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-09 23:38:30,253.253] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-09 23:38:30,254.254] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00011s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-09 23:38:30,256.256] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-09 23:38:30,256.256] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00016s] {'pk_1': UUID('a11040c0-0de1-45c8-8803-d0ed52c24979')}
[2025-07-09 23:38:30,257.257] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-09 23:38:30,257.257] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00010s] {'pk_1': UUID('c3822f2a-5a30-4dc1-b0b7-ce27a1c8f619')}
[2025-07-09 23:38:30,259.259] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-09 23:38:30,259.259] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00013s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('a11040c0-0de1-45c8-8803-d0ed52c24979'), 'process_rule_id': UUID('c3822f2a-5a30-4dc1-b0b7-ce27a1c8f619'), 'batch': '20250709233830622809', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 120, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-09 23:38:30,261.261] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-09 23:38:30,266.266] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-09 23:38:30,266.266] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-09 23:38:30,266.266] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00011s] {'pk_1': UUID('c341230b-7beb-4d78-8d04-d66b6223fba5')}
[2025-07-09 23:38:30,300.300] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-09 23:38:30,301.301] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [09/Jul/2025 23:38:30] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
[2025-07-09 23:42:48,827.827] _internal.py -> _log line:97 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2025-07-09 23:42:48,827.827] _internal.py -> _log line:97 [INFO]: [33mPress CTRL+C to quit[0m
[2025-07-09 23:42:48,828.828] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-07-09 23:42:50,394.394] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-07-09 23:42:50,407.407] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 136-451-464
[2025-07-09 23:43:03,833.833] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-07-09 23:43:03,833.833] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-09 23:43:03,834.834] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-07-09 23:43:03,834.834] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-09 23:43:03,835.835] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-07-09 23:43:03,835.835] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-07-09 23:43:03,835.835] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-09 23:43:03,837.837] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2025-07-09 23:43:03,837.837] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00013s] {'pk_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c')}
[2025-07-09 23:43:03,841.841] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2025-07-09 23:43:03,841.841] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00017s] {'account_id_1': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'id_1_1': 'a11040c0-0de1-45c8-8803-d0ed52c24979'}
[2025-07-09 23:43:03,844.844] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s::JSONB) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2025-07-09 23:43:03,844.844] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00023s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'mode': 'custom', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": false}], "segment": {"separators": ["\\n"], "chunk_size": 500, "chunk_overlap": 50}}'}
[2025-07-09 23:43:03,848.848] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-09 23:43:03,849.849] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-09 23:43:03,851.851] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2025-07-09 23:43:03,851.851] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00014s] {'dataset_id_1': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'param_1': 1}
[2025-07-09 23:43:03,859.859] base.py -> _exec_single_context line:1896 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2025-07-09 23:43:03,860.860] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00023s] {'pk_1': UUID('a11040c0-0de1-45c8-8803-d0ed52c24979')}
[2025-07-09 23:43:03,862.862] base.py -> _exec_single_context line:1896 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2025-07-09 23:43:03,862.862] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00015s] {'pk_1': UUID('f1362c07-f747-4ad5-93c0-95f1e6b67d1d')}
[2025-07-09 23:43:03,864.864] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2025-07-09 23:43:03,864.864] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00019s] {'account_id': '12a2956f-b51c-4d9b-bf65-336c5acfc4f3', 'dataset_id': UUID('6c5e3fd6-6307-4eb5-b017-895b25ce4a1c'), 'upload_file_id': UUID('a11040c0-0de1-45c8-8803-d0ed52c24979'), 'process_rule_id': UUID('f1362c07-f747-4ad5-93c0-95f1e6b67d1d'), 'batch': '20250709234303855226', 'name': 'æ°‘äº‹ç­”è¾©çŠ¶ï¼ˆäºŒå®¡ï¼‰20250624165842.docx', 'position': 121, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2025-07-09 23:43:03,866.866] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-07-09 23:43:03,870.870] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-07-09 23:43:03,871.871] base.py -> _exec_single_context line:1896 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2025-07-09 23:43:03,871.871] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00011s] {'pk_1': UUID('9ab6dafa-f9de-4778-8a47-ff842df9f662')}
[2025-07-09 23:43:03,899.899] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-07-09 23:43:03,900.900] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [09/Jul/2025 23:43:03] "POST /datasets/6c5e3fd6-6307-4eb5-b017-895b25ce4a1c/documents HTTP/1.1" 200 -
